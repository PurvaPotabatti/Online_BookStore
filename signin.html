<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bookly - Sign In</title>
    <link rel="stylesheet" href="style.css">
    <style>
        /* Ensure background opacity effect */
        .auth-bg-overlay {
            background: rgba(255, 255, 255, 0.5); /* semi-white overlay */
            backdrop-filter: blur(5px);
        }

        /* Bigger, visible placeholders with brown color */
        .input-field::placeholder {
            font-size: 1rem;
            color: #4A2C2A; 
            opacity: 1;
		}


        /* Highlight errors */
        .input-error {
            border-bottom-color: red !important;
        }
        .error-message {
            color: red;
            font-size: 0.75rem;
            margin-top: 0.25rem;
        }

        /* Move the brown semicircle decoration upward */
        .auth-form-decoration {
            transform: translateX(-80%) translateY(-75%) !important;
        }
		
		
    .auth-submit-btn {
        background-color: #4A2C2A;
    }
    .auth-submit-btn:hover {
        background-color: #3a2120;
    }
    .auth-form-decoration {
        background-color: #4A2C2A !important;
    }


    </style>
</head>
<body>
    <div class="auth-page-container">
        <div class="auth-bg-image" style="background-image: url('back2.jpg');"></div>
        <div class="auth-bg-overlay"></div>

        <div class="auth-form-container">
            <div class="auth-form-decoration"></div>
            <div class="auth-form-content">
                                 <h1 id="authTitle" style = "margin-left : 8rem">Sign In</h1>
                                 <form class="auth-form" id="signinForm" novalidate>
                     <div class="input-field-wrapper">
                         <span class="icon">ðŸ‘¤</span>
                         <input type="text" name="name" id="name" class="input-field" placeholder="Name" required>
                     </div>
                     <div id="nameError" class="error-message"></div>

                     <div class="input-field-wrapper">
                         <span class="icon" style = "color : #4A2C2A">@</span>
                         <input type="email" name="email" id="email" class="input-field" placeholder="Email" required>
                     </div>
                     <div id="emailError" class="error-message"></div>

                     <div class="input-field-wrapper">
                         <span class="icon">ðŸ”’</span>
                         <input type="password" name="password" id="password" class="input-field" placeholder="Password" required minlength="8">
                     </div>
                     <div id="passwordError" class="error-message"></div>
                     <div class="password-requirements" style="font-size: 0.8rem; color: #666; margin-top: 0.5rem; padding: 0.5rem; background: #f8f9fa; border-radius: 4px;">
                         <strong>Password must contain:</strong><br>
                         â€¢ At least 8 characters<br>
                         â€¢ One capital letter (A-Z)<br>
                         â€¢ One small letter (a-z)<br>
                         â€¢ One number (0-9)<br>
                         â€¢ One special character (!@#$%^&*)
                     </div>

                     <div class="auth-options">
                         <a href="#" style="color : #4A2C2A">Forgot password?</a>
                     </div>

                     <button type="submit" class="auth-submit-btn">SIGN IN</button>

                 </form>
                 
                 <div class="auth-footer" style="text-align: center; margin-top: 2rem; color: #4A2C2A;">
                     <p>Don't have an account? <a href="#" onclick="showSignUpForm()" style="color: #4A2C2A; text-decoration: underline; font-weight: 600;">Sign Up</a></p>
                 </div>
            </div>
        </div>
    </div>

         <script>
         // Toggle between Sign In and Sign Up forms
         function showSignUpForm() {
             const authTitle = document.getElementById('authTitle');
             const form = document.getElementById('signinForm');
             const authFooter = document.querySelector('.auth-footer');
             
             authTitle.textContent = 'Sign Up';
             form.id = 'signupForm';
             
             // Update footer text
             authFooter.innerHTML = '<p>Already have an account? <a href="#" onclick="showSignInForm()" style="color: #4A2C2A; text-decoration: underline; font-weight: 600;">Sign In</a></p>';
             
             // Update form validation for sign up
             form.removeEventListener('submit', handleSignIn);
             form.addEventListener('submit', handleSignUp);
         }

         function showSignInForm() {
             const authTitle = document.getElementById('authTitle');
             const form = document.getElementById('signupForm');
             const authFooter = document.querySelector('.auth-footer');
             
             authTitle.textContent = 'Sign In';
             form.id = 'signinForm';
             
             // Update footer text
             authFooter.innerHTML = '<p>Don\'t have an account? <a href="#" onclick="showSignUpForm()" style="color: #4A2C2A; text-decoration: underline; font-weight: 600;">Sign Up</a></p>';
             
             // Update form validation for sign in
             form.removeEventListener('submit', handleSignUp);
             form.addEventListener('submit', handleSignIn);
         }

         // Handle Sign In form submission
         function handleSignIn(event) {
             event.preventDefault();
             
             let valid = true;
             const form = event.target;

             // Clear previous errors
             document.querySelectorAll('.error-message').forEach(e => e.textContent = '');
             document.querySelectorAll('.input-field').forEach(e => e.classList.remove('input-error'));

             const name = form.name.value.trim();
             const email = form.email.value.trim();
             const password = form.password.value.trim();
             
             // Name validation
             if (name === '') {
                 document.getElementById('nameError').textContent = 'Name is required.';
                 form.name.classList.add('input-error');
                 valid = false;
             }

             // Email validation (must end with @gmail.com)
             if (email === '') {
                 document.getElementById('emailError').textContent = 'Email is required.';
                 form.email.classList.add('input-error');
                 valid = false;
             } else if (!email.endsWith('@gmail.com')) {
                 document.getElementById('emailError').textContent = 'Email must end with @gmail.com';
                 form.email.classList.add('input-error');
                 valid = false;
             }

             // Password validation
             if (password.length < 8) {
                 document.getElementById('passwordError').textContent = 'Password must be at least 8 characters.';
                 form.password.classList.add('input-error');
                 valid = false;
             } else {
                 // Enhanced password validation
                 const hasCapital = /[A-Z]/.test(password);
                 const hasSmall = /[a-z]/.test(password);
                 const hasNumber = /[0-9]/.test(password);
                 const hasSpecial = /[!@#$%^&*]/.test(password);
                 
                 if (!hasCapital || !hasSmall || !hasNumber || !hasSpecial) {
                     document.getElementById('passwordError').textContent = 'Password must contain capital letter, small letter, number, and special character.';
                     form.password.classList.add('input-error');
                     valid = false;
                 }
             }

             // Final Submission
             if (valid) {
                 // Store user info in localStorage (for demo purposes)
                 const userInfo = {
                     name: name,
                     email: email,
                     isLoggedIn: true,
                     loginTime: new Date().toISOString()
                 };
                 localStorage.setItem('booklyUser', JSON.stringify(userInfo));
                 
                 alert('Sign In Successful! Welcome back, ' + name + '!');
                 
                 // Redirect to homepage after successful sign-in
                 setTimeout(() => {
                     window.location.href = 'index.html';
                 }, 1000);
             }
         }

         // Handle Sign Up form submission
         function handleSignUp(event) {
             event.preventDefault();
             
             let valid = true;
             const form = event.target;

             // Clear previous errors
             document.querySelectorAll('.error-message').forEach(e => e.textContent = '');
             document.querySelectorAll('.input-field').forEach(e => e.classList.remove('input-error'));

             const name = form.name.value.trim();
             const email = form.email.value.trim();
             const password = form.password.value.trim();
             
             // Name validation
             if (name === '') {
                 document.getElementById('nameError').textContent = 'Name is required.';
                 form.name.classList.add('input-error');
                 valid = false;
             }

             // Email validation (must end with @gmail.com)
             if (email === '') {
                 document.getElementById('emailError').textContent = 'Email is required.';
                 form.email.classList.add('input-error');
                 valid = false;
             } else if (!email.endsWith('@gmail.com')) {
                 document.getElementById('emailError').textContent = 'Email must end with @gmail.com';
                 form.email.classList.add('input-error');
                 valid = false;
             }

             // Password validation
             if (password.length < 8) {
                 document.getElementById('passwordError').textContent = 'Password must be at least 8 characters.';
                 form.password.classList.add('input-error');
                 valid = false;
             } else {
                 // Enhanced password validation
                 const hasCapital = /[A-Z]/.test(password);
                 const hasSmall = /[a-z]/.test(password);
                 const hasNumber = /[0-9]/.test(password);
                 const hasSpecial = /[!@#$%^&*]/.test(password);
                 
                 if (!hasCapital || !hasSmall || !hasNumber || !hasSpecial) {
                     document.getElementById('passwordError').textContent = 'Password must contain capital letter, small letter, number, and special character.';
                     form.password.classList.add('input-error');
                     valid = false;
                 }
             }

             // Final Submission
             if (valid) {
                 // Store user info in localStorage (for demo purposes)
                 const userInfo = {
                     name: name,
                     email: email,
                     isLoggedIn: true,
                     loginTime: new Date().toISOString()
                 };
                 localStorage.setItem('booklyUser', JSON.stringify(userInfo));
                 
                 alert('Account Created Successfully! Welcome to Bookly, ' + name + '!');
                 
                 // Redirect to homepage after successful sign-up
                 setTimeout(() => {
                     window.location.href = 'index.html';
                 }, 1000);
             }
         }

         // Initialize form with sign-in handler
         document.addEventListener('DOMContentLoaded', function() {
             const form = document.getElementById('signinForm');
             form.addEventListener('submit', handleSignIn);
         });
     </script>
</body>
</html>
